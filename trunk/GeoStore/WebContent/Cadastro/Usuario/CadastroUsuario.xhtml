
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:s="http://jboss.com/products/seam/taglib"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:x="http://www.xseam.org"
      > 
<ui:composition template="../../layout/template.xhtml">
	
		<ui:define name="body" >
		
		<ui:include src="../../layout/messages.xhtml"/>
		
		<rich:panel>
		
		<f:facet name="header">Editar Usuário</f:facet>
		
		<a4j:form id="cadastroLojaForm">
			<rich:panel>
				<rich:toolBar height="34"  itemSeparator="line" >					
					<rich:toolBarGroup >     	         		
     	         		<h:commandLink action="#{usuarioController.salvar()}" >						
           	  				<h:graphicImage id="imgSalvar" value="../../img/salvarIcon.png" styleClass="imgButton" />
           	  				<rich:spacer width="4" />
           	  				<h:outputText value="Salvar" styleClass="txtButton" /> 
           	  				
           	  			</h:commandLink>           	 	
           	  		</rich:toolBarGroup>
           	  		
           	  		<rich:toolBarGroup>     	         		
     	         		<h:commandLink action="#{usuarioController.cancelar()}" immediate="true">						
           	  				<h:graphicImage id="imgVoltar" value="../../img/cancelarIcon.png" styleClass="imgButton" />
           	  				<rich:spacer width="4" />
           	  				<h:outputText value="Voltar" styleClass="txtButton" /> 
           	  			</h:commandLink>           	 	
           	  		</rich:toolBarGroup>
	
					<rich:toolBarGroup >     	         		
     	         		<h:commandLink action="#{usuarioController.remover()}" >						
           	  				<h:graphicImage id="imgExcluir" value="../../img/excluirIcon.png" styleClass="imgButton" />
           	  				<rich:spacer width="4" />
           	  				<h:outputText value="Excluir" styleClass="txtButton" /> 
           	  			</h:commandLink>           	 	
           	  		</rich:toolBarGroup>
	   		     			
	   		    	<rich:toolBarGroup/>	   		    			
				</rich:toolBar>		
			</rich:panel>	

			<rich:spacer height="10" />		
		 	<a4j:loadScript src="../../js/jquery.maskedinput-1.1.4.pack.js" />
		 	<rich:tabPanel switchType="client">
		  	
		  		<rich:tab label="Dados Cadastrais">	
					<h:panelGrid >		
						
						<s:decorate template="../../layout/edit.xhtml">
							<ui:define name="label">Empresa Vínculo</ui:define>		
							<h:selectOneMenu value="#{usuarioController.usuario.empresaVinculo}">	
								<s:selectItems value="#{empresaController.empresas}" var="empresaSuperior" label="#{empresaSuperior.documento} - #{empresaSuperior.razaoSocial}" noSelectionLabel="Selecione..."/>								
								<s:convertEntity/>
							</h:selectOneMenu>
						</s:decorate>
						
						<s:decorate template="../../layout/edit.xhtml">
							<ui:define name="label">Tipo Usuário</ui:define>			
							<h:selectOneMenu value="#{usuarioController.usuario.tipoUsuario}">
								<s:selectItems value="#{tiposUsuario}" var="tipoUsuario" label="#{tipoUsuario.descricao}" noSelectionLabel="Selecione..."/>
								<s:convertEntity/>
							</h:selectOneMenu>
						</s:decorate>
									
						<s:decorate template="../../layout/edit.xhtml">
							<ui:define name="label">Nome</ui:define>
							<h:inputText size="100" value="#{usuarioController.usuario.nome}" />	
						</s:decorate>

						<s:decorate template="../../layout/edit.xhtml">
							<ui:define name="label">E-Mail</ui:define>
							<h:inputText size="60" value="#{usuarioController.usuario.email}"/>	
						</s:decorate>
						
						<s:decorate template="../../layout/edit.xhtml">
							<ui:define name="label">Senha</ui:define>
							<h:inputSecret redisplay="true" size="50" value="#{usuarioController.usuario.senha}" />	
						</s:decorate>

						<s:decorate id="txtTelefone" template="../../layout/edit.xhtml">											
							<ui:define name="label">Telefone</ui:define>
							<h:inputText id="telefone" value="#{usuarioController.usuario.telefone}" converter="telefoneConverter" >
								<rich:jQuery selector="#telefone" query="mask('(99)9999-9999')" timing="onload" />												
							</h:inputText>
						</s:decorate>

					
					</h:panelGrid>				
				</rich:tab>
							
			</rich:tabPanel>
		
							
		</a4j:form>	
	
		 				
	 	</rich:panel>
		<rich:spacer height="20"/>	
			
	</ui:define>
</ui:composition>

</html>
